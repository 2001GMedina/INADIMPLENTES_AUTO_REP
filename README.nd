# INADIMPLENTES_AUTO_REP

An automated system for generating and sending overdue payment reports.  
This project retrieves data from SQL queries, formats it into professional HTML tables, and sends it via email â€” all on a scheduled basis (e.g., through Jenkins or cron jobs).  

## ğŸ“Œ Features
- Runs SQL queries to fetch overdue payment data.
- Generates **HTML reports** with clean, responsive table formatting.
- Supports multiple tables in the same email.
- Includes a company logo in the email header.
- Automatically calculates summary totals.
- Fully automated email delivery.
- Easily extensible for additional queries and reports.

## ğŸ› ï¸ Technologies Used
- **Python 3.x**
- **pandas** â€” for data manipulation and table generation.
- **pyodbc** â€” for SQL Server/Oracle database connections.
- **jinja2** â€” for HTML email templating.
- **smtplib** â€” for sending emails.
- **Jenkins / cron** â€” for automation scheduling.

## ğŸ“‚ Project Structure
INADIMPLENTES_AUTO_REP/
â”‚
â”œâ”€â”€ queries/
â”‚ â”œâ”€â”€ resumo_inadimplentes.sql
â”‚ â”œâ”€â”€ resumo_total.sql
â”‚
â”œâ”€â”€ utils/
â”‚ â”œâ”€â”€ email_sender.py
â”‚ â”œâ”€â”€ html_generator.py
â”‚ â”œâ”€â”€ logo.png
â”‚
â”œâ”€â”€ main.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ README.md
â””â”€â”€ .gitignore


## ğŸš€ How to Run

1. **Clone the repository**
```bash
git clone https://github.com/2001GMedina/INADIMPLENTES_AUTO_REP.git
cd INADIMPLENTES_AUTO_REP

2. **Install dependencies**

pip install -r requirements.txt


3. **Set up environment variables**

Create a .env file or export variables directly in your shell.

Required variables:

DB_CONN_STRING â€” your database connection string.

SMTP_SERVER, SMTP_PORT, EMAIL_USER, EMAIL_PASSWORD â€” email settings.

4. **Run the script**

python main.py


ğŸ“§ Email Example
The email contains:

Company logo.

â€œOverdue Payments Summaryâ€ table from the first SQL query.

â€œPayment Method Totalsâ€ table from the second SQL query.

Overall grand total.